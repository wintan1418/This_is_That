<%= form_with model: place, class: "p-8 bg-slate-900/50 border border-teal-500/20 rounded-3xl space-y-6" do |f| %>
  <% if place.errors.any? %>
    <div class="p-4 bg-red-500/20 border border-red-500/30 rounded-xl text-red-300">
      <h3 class="font-semibold mb-2"><%= pluralize(place.errors.count, "error") %> prevented saving:</h3>
      <ul class="list-disc list-inside text-sm">
        <% place.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Image Upload -->
  <div>
    <label class="block text-sm font-medium text-gray-300 mb-2">üì∏ Place Image</label>
    <div class="flex items-center gap-4">
      <% if place.image.attached? %>
        <div class="w-24 h-24 rounded-xl overflow-hidden">
          <%= image_tag place.image, class: "w-full h-full object-cover" %>
        </div>
      <% else %>
        <div class="w-24 h-24 rounded-xl bg-gradient-to-br from-teal-500/20 to-amber-500/20 flex items-center justify-center">
          <span class="text-3xl">üìç</span>
        </div>
      <% end %>
      <div class="flex-1">
        <%= f.file_field :image, 
            accept: "image/*",
            class: "block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-teal-500/20 file:text-teal-400 hover:file:bg-teal-500/30 cursor-pointer" %>
        <p class="text-xs text-gray-500 mt-2">JPG, PNG or WebP. Max 5MB.</p>
      </div>
    </div>
  </div>

  <!-- Name -->
  <div>
    <label class="block text-sm font-medium text-gray-300 mb-2">Place Name *</label>
    <%= f.text_field :name, placeholder: "e.g., Blue Bottle Coffee", class: "w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500" %>
  </div>

  <!-- Address -->
  <div>
    <label class="block text-sm font-medium text-gray-300 mb-2">Address *</label>
    <%= f.text_field :address, placeholder: "e.g., 123 Main Street", class: "w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500" %>
  </div>

  <!-- City / State -->
  <div class="grid grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-300 mb-2">City *</label>
      <%= f.text_field :city, placeholder: "e.g., Austin", class: "w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500" %>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-300 mb-2">State</label>
      <%= f.text_field :state, placeholder: "e.g., TX", class: "w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500" %>
    </div>
  </div>

  <!-- Category -->
  <div>
    <label class="block text-sm font-medium text-gray-300 mb-2">Category</label>
    <%= f.collection_select :category_id, @categories, :id, :name, { include_blank: "Select a category..." }, class: "w-full px-4 py-3 bg-slate-800 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-teal-500" %>
  </div>

  <!-- Is Home Place -->
  <div class="flex items-center gap-3">
    <%= f.check_box :is_home_place, class: "w-5 h-5 rounded bg-white/5 border-white/10 text-teal-500 focus:ring-teal-500" %>
    <label class="text-gray-300">This is a place from my hometown</label>
  </div>

  <!-- Submit -->
  <div class="flex gap-4 pt-4">
    <%= f.submit place.persisted? ? "Update Place" : "Save Place", class: "px-8 py-3 bg-gradient-to-r from-teal-500 to-amber-500 text-slate-900 rounded-xl font-semibold cursor-pointer hover:opacity-90 transition-opacity" %>
    <%= link_to "Cancel", places_path, class: "px-8 py-3 bg-white/10 rounded-xl hover:bg-white/20 transition-colors" %>
  </div>
<% end %>
